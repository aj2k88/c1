!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return o}),n.d(t,"__assign",function(){return a}),n.d(t,"__rest",function(){return s}),n.d(t,"__decorate",function(){return i}),n.d(t,"__param",function(){return c}),n.d(t,"__metadata",function(){return u}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return d}),n.d(t,"__createBinding",function(){return f}),n.d(t,"__exportStar",function(){return m}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return w}),n.d(t,"__spread",function(){return b}),n.d(t,"__spreadArrays",function(){return _}),n.d(t,"__await",function(){return h}),n.d(t,"__asyncGenerator",function(){return g}),n.d(t,"__asyncDelegator",function(){return y}),n.d(t,"__asyncValues",function(){return v}),n.d(t,"__makeTemplateObject",function(){return x}),n.d(t,"__importStar",function(){return I}),n.d(t,"__importDefault",function(){return k}),n.d(t,"__classPrivateFieldGet",function(){return O}),n.d(t,"__classPrivateFieldSet",function(){return S});var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function i(e,t,n,r){var o,a=arguments.length,s=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var i=e.length-1;i>=0;i--)(o=e[i])&&(s=(a<3?o(s):a>3?o(t,n,s):o(t,n))||s);return a>3&&s&&Object.defineProperty(t,n,s),s}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(o,a){function s(e){try{c(r.next(e))}catch(e){a(e)}}function i(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,i)}c((r=r.apply(e,t||[])).next())})}function d(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}function f(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function m(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return s}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],s=0,i=a.length;s<i;s++,o++)r[o]=a[s];return r}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function g(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){a.push([e,t,n,r])>1||i(e,t)})})}function i(e,t){try{(n=o[e](t)).value instanceof h?Promise.resolve(n.value.v).then(c,u):l(a[0][2],n)}catch(e){l(a[0][3],e)}var n}function c(e){i("next",e)}function u(e){i("throw",e)}function l(e,t){e(t),a.shift(),a.length&&i(a[0][0],a[0][1])}}function y(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:h(e[r](t)),done:"return"===r}:o?o(t):t}:o}}function v(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,o){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,o,(t=e[n](t)).done,t.value)})}}}function x(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function k(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function S(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),window.__karma__||(window.browser="undefined"!=typeof chrome&&Object.getPrototypeOf(chrome)===Object.prototype?chrome:browser),t.getBrowserMetaData=function(){const e={};var t,n,r,o=navigator.userAgent,a=navigator.appName,s=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);if(-1!=(n=o.indexOf("Opera")))e.browserName="Opera",e.fullVersion=o.substring(n+6),-1!=(n=o.indexOf("Version"))&&(e.fullVersion=o.substring(n+8));else if(-1!=(n=o.indexOf("MSIE")))e.browserName="Microsoft Internet Explorer",e.fullVersion=o.substring(n+5);else if(-1!=(n=o.indexOf("Edge")))e.browserName="Edge",e.fullVersion=o.substring(n+5);else if(-1!=(n=o.indexOf("Edg"))){e.browserName="ECh - Edge Chromium";var c=(u=o.substring(n+4)).indexOf(" ");e.fullVersion=c>-1?u.substring(0,c):u}else if(-1!=(n=o.indexOf("Chrome"))){var u;e.browserName="Chrome",c=(u=o.substring(n+7)).indexOf(" "),e.fullVersion=c>-1?u.substring(0,c):u}else-1!=(n=o.indexOf("Safari"))?(e.browserName="Safari",e.fullVersion=o.substring(n+7),-1!=(n=o.indexOf("Version"))&&(e.fullVersion=o.substring(n+8))):-1!=(n=o.indexOf("Firefox"))?(e.browserName="Firefox",e.fullVersion=o.substring(n+8)):(t=o.lastIndexOf(" ")+1)<(n=o.lastIndexOf("/"))&&(e.browserName=o.substring(t,n),e.fullVersion=o.substring(n+1),a.toLowerCase()==a.toUpperCase()&&(e.browserName=navigator.appName));return-1!=(r=s.indexOf(";"))&&(e.fullVersion=e.fullVersion.substring(0,r)),-1!=(r=s.indexOf(" "))&&(e.fullVersion=e.fullVersion.substring(0,r)),e.majorVersion=parseInt(""+s,10),isNaN(i)&&(e.fullVersion=""+parseFloat(navigator.appVersion),e.majorVersion=parseInt(navigator.appVersion,10)),e.OSName="Unknown OS",-1!=navigator.appVersion.indexOf("Win")&&(e.OSName="Windows"),-1!=navigator.appVersion.indexOf("Mac")&&(e.OSName="MacOS"),-1!=navigator.appVersion.indexOf("X11")&&(e.OSName="UNIX"),-1!=navigator.appVersion.indexOf("Linux")&&(e.OSName="Linux"),-1==navigator.appVersion.indexOf("iPhone")&&-1==navigator.appVersion.indexOf("iPod")||(e.OSName="iOS"),e.OSVersion=navigator.platform,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(4);t.default=r.wib_constants},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wib_constants={dsdurl:"https://verified.capitalone.com/sic-ui/#/signin",dsdforgoturl:"https://login1.capitalone.com/loginweb/forgotidm/forgotuser.do",dsdforgotpassword:"https://login1.capitalone.com/loginweb/forgotidm/forgotpass.do",dsdpublickey:"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAiwcxZqZy5tgQiWuI6e0r\nzoBelUXEuxtNLeCqFChS4peivGH0IP+QDnp2tOKQ2dA3sT8qu5YdOXhOc5RXC1Kq\nP/Bbhvk0/R4m5UgPtq8YQcpbrC39GLyIWSEpGgDq7adjBa3cDoQdtkG3AfYVP6rK\nFpKpMZZi0/MzUf+FMLnydqDez2pHAXzZTefq4OaUukBiKum764z7hEtNmxHQd4LN\nhxcz6CHDlPyuWRYkDQt6S1iPCFnT0VZTjaEFTyUIMFDFFT1FhBVW+D9CIaLu/WAC\nAz4QKEilsYZGOn7+vMhozKz2yzVFzRQI/r+WvnBzVFaY4BbbJd37dFzggpsUf+ze\n9wIDAQAB\n-----END PUBLIC KEY-----",ewa_public_key:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoXZDEi4FrW49rJIL+GQ1NIT5OBxkWpHV82WiCZfjKdZ7IgAHAPJN+U3GvL8/Wv958B9ng/MqpXqAcHS9Oado9IbbnvIhr+MwzJK9WL4OqoFm+iytnVTLNY72poxPTr+yF3Yb5lAgL8Nr2xuWPLEBofp01A0awqD6u+33mDWlG3vSeYVifFissVW+IE82qnO8imAX/MBvxZVJOcQe8zoCDld6YeyQ6KGNOBO9zPEu4e/May2YXYWG0A45l6BAFofX+I6bx/DLP9RLwLsYaD2iJPsCW82dTn/9lbjfT/JL3AaSGhaei+iyRZPrnYNIs4l86GG4GwVr10ts912yAWIPXQIDAQAB",loginhelpurl:"https://verified.capitalone.com/signinhelp.html#/sign-in-help",wib_orchestration_main_url:"https://wib.capitalone.com/wib-edge-server/wib",zuul_main_url:"https://wib.capitalone.com/wib-edge-server",wib_token_url:"https://wib.capitalone.com/wib-edge-server/token",wib_shape_url:"https://wib.capitalone.com/assets/enterprise/js/cp_eno.js",wib_marketing_url:"https://www.capitalone.com/digital/eno/virtual-card-numbers",mix_panel_id:"dfb5c7cd4c1288c10b9ebe46f6b630db",baseurl:"chrome-extension://__MSG_@@extension_id__",easeweb_baseurl:"https://links.capitalone.com",chariot_baseurl:"https://ecm.capitalone.com/CardArt/assets/images/",chariot_video_baseurl:"https://ecm.capitalone.com/CardArt/assets/videos/",swiftId_baseurl:"https://swiftid.capitalone.com/taskevent/",potomac_url:"potomac-clickstream.capitalone.com",potomac_cookie_domain:".capitalone.com",site_status:"https://wib.capitalone.com/app-init/sitestatus",c1_cookie_domain:"wib.capitalone.com",tracker_domain_to_be_hashed:"capitalone.com",sp_id_cookie_name:"_sp_id.73e1",sp_ses_cookie_name:"_sp_ses.73e1",sign_in_url:"https://verified.capitalone.com/auth/signin?Product=ENTERPRISE&goto_url=https:%2F%2Fmyaccounts.capitalone.com%2FVirtualCards#/VirtualCards",test_header_key:"",test_header_value:"",environment:"prod"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6);t.merchants=r.merchants;var o=n(7);t.authChecks=o.authChecks},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merchants={"www.amazon.com":{pathToModifyUserAgent:"www.amazon.com/cpe/yourpayments/wallet",urlScheme:"*://*.amazon.com/*",walletUrl:"https://www.amazon.com/cpe/yourpayments/wallet",mdxId:"600dc424694ac710b381b894af8175ef6c51ec8a",name:"Amazon",isPopMerchant:!0},"www.bestbuy.com":{pathToModifyUserAgent:"https://www.bestbuy.com/profile/c/billinginfo/cc",urlScheme:"*://*.bestbuy.com/*",redirectToCancel:"https://www.bestbuy.com/profile/c/billinginfo/cc",walletUrl:"https://www.bestbuy.com/profile/c/billinginfo/cc",mdxId:"3f80ba764d36c5eb9be8a5107b3c15e4f00e02b4",name:"Best Buy"},"www.grubhub.com":{pathToModifyUserAgent:"https://www.grubhub.com/account/payment",urlScheme:"*://*.grubhub.com/*",walletUrl:"https://www.grubhub.com/account/payment",mdxId:"0c5049ee7b8eb2880966616a5e0c80453af06051",name:"Grubhub",isPopMerchant:!0},"www.united.com":{pathToModifyUserAgent:"https://www.united.com/en/us/account/payments",urlScheme:"*://*.united.com/*",walletUrl:"https://www.united.com/en/us/account/payments",mdxId:"a6c544d39a25471fb36457799b0953cad6fef1d0",name:"United Airlines"},"www.macys.com":{pathToModifyUserAgent:"www.macys.com",urlScheme:"*://*.macys.com/*",walletUrl:"https://www.macys.com/account/wallet",mdxId:"8cac30de77ac5e1cbcff945028f3f2999a9e33ba",name:"Macy's"},"www.aa.com":{pathToModifyUserAgent:"www.aa.com/loyalty/profile/preferences",urlScheme:"*://*.aa.com/*",walletUrl:"https://www.aa.com/loyalty/profile/preferences",mdxId:"48083a22c6441c4e39b7c8261984fbf9a94a6e46",name:"American Airlines"},"www.seamless.com":{pathToModifyUserAgent:"https://www.seamless.com",walletUrl:"https://www.seamless.com/account/payment",mdxId:"c9a580133d13e55361272b0e231ec3daf453d7a5",name:"Seamless",urlScheme:"*://*.seamless.com/*",isPopMerchant:!0},"www.chewy.com":{pathToModifyUserAgent:"https://www.chewy.com/app/account/wallet",urlScheme:"*://*.chewy.com/*",walletUrl:"https://www.chewy.com/app/account/wallet",mdxId:"585444fd67db4433c3b501d636e40376da7086ed",name:"Chewy",isPopMerchant:!0},"www.zappos.com":{pathToModifyUserAgent:"https://www.zappos.com/payments/new",urlScheme:"*://*.zappos.com/*",walletUrl:"https://www.zappos.com/payments/new",mdxId:"4cbd191a81babb709995fe4f5c6add4166b207a2",name:"Zappos",isPopMerchant:!0,iframeDisabled:!0},"www.lowes.com":{pathToModifyUserAgent:"https://www.lowes.com/mylowes/profile/wallet/creditcards/create",urlScheme:"*://*.lowes.com/*",walletUrl:"https://www.lowes.com/mylowes/profile/wallet/creditcards/create",mdxId:"b9b9590dd85d4eb036413f923e70dbf8d66e925a",name:"Lowe's",isPopMerchant:!0},"www.wayfair.com":{pathToModifyUserAgent:"https://secure.wayfair.com/account/manage-payment-options",urlScheme:"*://*.wayfair.com/*",walletUrl:"https://secure.wayfair.com/account/manage-payment-options",mdxId:"0ca02ae0d47031e85e6d2f4286c58ca45baddf0b",name:"Wayfair",isPopMerchant:!0,iframeDisabled:!0},"secure.wayfair.com":{pathToModifyUserAgent:"https://secure.wayfair.com/account/manage-payment-options",urlScheme:"*://*.wayfair.com/*",walletUrl:"https://secure.wayfair.com/account/manage-payment-options",mdxId:"0ca02ae0d47031e85e6d2f4286c58ca45baddf0b",name:"Wayfair",isPopMerchant:!0,iframeDisabled:!0},"www.groupon.com":{pathToModifyUserAgent:"https://www.groupon.com/mybillingrecords",urlScheme:"*://*.groupon.com/*",walletUrl:"https://www.groupon.com/mybillingrecords",mdxId:"04fa8705d207bda5ac8b8856562a3caed8ee7e47",name:"Groupon",isPopMerchant:!0},"www.airbnb.com":{pathToModifyUserAgent:"https://www.airbnb.com/account-settings/payments/payment-methods",urlScheme:"*://*.airbnb.com/*",walletUrl:"https://www.airbnb.com/account-settings/payments/payment-methods",mdxId:"f909387774cf28a3dc27b094e9a6d34cf2969ee1",name:"Airbnb",isPopMerchant:!0},"www.target.com":{pathToModifyUserAgent:"https://www.target.com/account/payments/new",urlScheme:"*://*.target.com/*",walletUrl:"https://www.target.com/account/payments/new",mdxId:"a0d12dd668ba0267456c4fc0660706404b9c44d4",name:"Target"}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authChecks={"www.united.com":{isMainFrameAuthenticated(e){const t=e.getElementsByClassName("account-tool"),n=e.getElementById("loginButton"),r=t&&t.length>0&&t[0].textContent&&t[0].textContent.includes("Hi"),o=n&&n.textContent&&n.textContent.includes("Hi");return r||o},isIframeAuthenticated:e=>e.indexOf("united.com/en/us/account/payments")>=0},"www.aa.com":{isIframeAuthenticated:e=>e.indexOf("aa.com/loyalty/profile/preferences")>=0},"www.grubhub.com":{isMainFrameAuthenticated(e){const t=e.getElementsByClassName("mainNavProfile-name");return t&&t.length>0},isIframeAuthenticated:e=>e.indexOf("grubhub.com/account/payment")>=0},"www.bestbuy.com":{isMainFrameAuthenticated(e){const t=e.getElementsByClassName("account-button");return t&&t.length>0&&Array.from(t).some(e=>e.textContent.includes("Hi, "))},isIframeAuthenticated:e=>e.indexOf("bestbuy.com/profile/c/billinginfo/cc")>=0},"www.seamless.com":{isMainFrameAuthenticated(e){const t=e.getElementsByClassName("mainNavProfile-name");return t&&t.length>0},isIframeAuthenticated:e=>e.indexOf("seamless.com/account/payment")>=0},"www.amazon.com":{isIframeAuthenticated:e=>e.indexOf("amazon.com/cpe/yourpayments/wallet")>=0},"www.macys.com":{isIframeAuthenticated:(e,t)=>e.indexOf("macys.com/account/wallet")>=0&&(t.getElementById("mb-j-add-credit-card")||t.getElementById("addCreditCard"))},"www.chewy.com":{isIframeAuthenticated:e=>e.indexOf("chewy.com/app/account/wallet")>=0},"www.zappos.com":{isMainFrameAuthenticated(e){const t=e.getElementById("headerMyAccountDropdownToggle");return t&&!t.textContent.includes("Sign In")}},"www.lowes.com":{isIframeAuthenticated:e=>e.indexOf("lowes.com/mylowes/profile/wallet/creditcards/create")>=0},"www.wayfair.com":{isMainFrameAuthenticated(e){const t=e.getElementById("HeaderDrawerStatusButton");return t&&"Sign Out"===t.textContent}},"www.groupon.com":{isMainFrameAuthenticated:e=>!!e.getElementById("sign-out"),isIframeAuthenticated:e=>e.indexOf("groupon.com/mybillingrecords")>=0},"www.airbnb.com":{isIframeAuthenticated:e=>e.indexOf("airbnb.com/account-settings/payments/payment-methods")>=0},"www.target.com":{isMainFrameAuthenticated(e){const t=e.querySelectorAll("[class*=AccountLinkText]");return t&&t.length>0&&t[0].textContent&&t[0].textContent.includes("Hi,")},isIframeAuthenticated:e=>e.indexOf("target.com/account/payments/new")>=0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0).__importDefault(n(12));t.initTrackEvent=function(){r.default.init()},t.trackEvent=function(e,t){r.default.trackEvent(e,t||{})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getItem:e=>sessionStorage&&sessionStorage.getItem(e),setItem:(e,t)=>sessionStorage&&sessionStorage.setItem(e,t),removeItem:e=>sessionStorage&&sessionStorage.removeItem(e),clear:()=>sessionStorage&&sessionStorage.clear()}},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0).__importDefault(n(2));n(1);const o=n(13),a=n(24);function s(e){o.getAllCookies(o.cookieDomain,function(t){localStorage.removeItem(r.default.sp_ses_cookie_name),t.map(function(e){e.name==r.default.sp_id_cookie_name&&e.domain==o.cookieDomain?localStorage.setItem(r.default.sp_id_cookie_name,e.value):e.name==r.default.sp_ses_cookie_name&&e.domain==o.cookieDomain&&localStorage.setItem(r.default.sp_ses_cookie_name,e.value)}),e()})}function i(){const e=localStorage.getItem(r.default.sp_id_cookie_name);o.setCookies({url:"https://www.capitalone.com/",domain:o.cookieDomain,name:r.default.sp_id_cookie_name,value:e,expirationDate:Date.now()/1e3+63072e3});const t=localStorage.getItem(r.default.sp_ses_cookie_name);o.setCookies({url:"https://www.capitalone.com/",domain:o.cookieDomain,name:r.default.sp_ses_cookie_name,value:t,expirationDate:Date.now()/1e3+1800})}t.default={init:function(){s(function(){a.sp("newTracker","EnoTracker",r.default.potomac_url,{appId:"virtual-numbers",post:!0,forceSecureTracker:!0,cookieDomain:r.default.tracker_domain_to_be_hashed,stateStorageStrategy:"localStorage",platform:"web"}),a.sp(function(){i()})})},trackEvent:function(e,t){"false"!==localStorage.getItem("allow_data_sharing")&&s(function(){var n;n=function(n){n&&(t.url=t.url||n.url,t.referrer=t.referrer||n.referrer);var r=a.createSnowplowContext(e,t);t.elementType?(a.sp("trackSelfDescribingEvent",{schema:"iglu:com.capitalone.snowplow/ui_interaction/jsonschema/1-0-0",data:{action:t.action||"",elementType:t.elementType||"",value:t.value||"",elementName:e||""}},r),a.sp(function(){i()})):(a.sp("trackPageView",e,r),a.sp(function(){i()}))},browser.tabs.query({active:!0,currentWindow:!0},function(e){const t=e[0];t?browser.tabs.sendMessage(t.id,{action:"get_url_and_referrer"},n):n()})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);n(1);const o=r.__importDefault(n(2)),a=navigator.userAgent.indexOf("Edge")>-1;function s(e,t){browser.cookies.getAll({domain:e,session:!0},function(e){t&&t(e)})}t.cookieDomain=a?o.default.tracker_domain_to_be_hashed:o.default.c1_cookie_domain,t.deleteAllCookies=function(e){s(t.cookieDomain,function(t){t.map(function(t){("C1_ABC"!=t.name&&"C1_AMT"!=t.name||e)&&(browser.cookies.remove({url:"https://"+t.domain+t.path,name:t.name}),browser.cookies.remove({url:"http://"+t.domain+t.path,name:t.name}))})})},t.getCookies=s,t.getAllCookies=function(e,t){browser.cookies.getAll({domain:e},function(e){t&&t(e)})},t.setCookies=function(e,t){browser.cookies.set(e,e=>t&&t(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0).__importDefault(n(2));t.congratsURL=r.default.wib_marketing_url+"/congratulations/"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={getItem:e=>localStorage&&localStorage.getItem(e),setItem:(e,t)=>localStorage&&localStorage.setItem(e,t),removeItem:e=>localStorage&&localStorage.removeItem(e),clear:()=>localStorage&&localStorage.clear()}},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=n(1),a=r.__importDefault(n(2)),s=r.__importStar(n(22)),i=r.__importStar(n(28)),c=n(13),u=n(29),l=n(14),d=r.__importDefault(n(15)),f=r.__importDefault(n(9)),m=n(8);var p=a.default.wib_orchestration_main_url+"/ccswap/billing-info",w=a.default.wib_orchestration_main_url+"/ccswap/merchantStatus",b=a.default.wib_orchestration_main_url+"/ccswap/merchantPath",_=a.default.wib_orchestration_main_url+"/profile-mapping";const h=a.default.wib_orchestration_main_url+"/features/get-all-statuses";var g,y="None",v=null,x=!1,I=null;const k=function(){const e=navigator,t=e.userAgent;if(!e)return{name:"",version:""};var n,r=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(r[1])?{name:"IE",version:(n=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===r[1]&&null!=(n=t.match(/\b(OPR|Edg|Edge)\/(\d+)/))?{name:"Edge",version:n[n.length-1]}:(r=r[2]?[r[1],r[2]]:[e.appName,e.appVersion,"-?"],null!=(n=t.match(/version\/(\d+)/i))&&r.splice(1,1,n[1]),{name:r[0],version:r[1]})}();function O(){"true"===d.default.getItem("ccswap_on")?function(){if(x)return;if(!i.checkUserAgent(navigator.userAgent))return;const e=i.populateUserAgentData();browser.webRequest.onBeforeSendHeaders.addListener(i.handleWebRequestBeforeSendHeaders,e,["blocking","requestHeaders"]),browser.webRequest.onHeadersReceived.addListener(i.handleWebRequestOnHeadersReceived,e,["blocking","responseHeaders"]),x=!0}():(i.getWebRequestFilter(),x&&(browser.webRequest.onBeforeSendHeaders.removeListener(i.handleWebRequestBeforeSendHeaders),browser.webRequest.onHeadersReceived.removeListener(i.handleWebRequestOnHeadersReceived),x=!1))}function S(e){if(!("POST"===e.method&&e.url.indexOf("signincontroller")>=0))return{cancel:!1};try{let t="";const n=new Uint8Array(e.requestBody.raw[0].bytes),r=n.byteLength;for(let e=0;e<r;e++)t+=String.fromCharCode(n[e]);const o=window.btoa(t),a=decodeURIComponent(escape(window.atob(o))),s=JSON.parse(a);s&&s.username&&d.default.setItem("lastUsernameBlob",s.username)}catch(e){}return{cancel:!1}}O(),(/iPhone|iPad|iPod/i.test(navigator.userAgent)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&browser.runtime.sendNativeMessage("application.id",{message:"Hello from background page"},function(e){I=e}),window.track_event=s.track_event;try{y=browser.runtime.getManifest().version}catch(e){}function A(){const e=a.default.wib_marketing_url;browser.runtime.setUninstallURL(e)}function M(){const e=new u.Deferred;return browser.cookies.getAll({domain:".capitalone.com",name:"C1_AMT"},t=>{for(const n of t)if(a.default.c1_cookie_domain.includes(n.domain)){const t={domain:n.domain,name:n.name,value:n.value,path:n.path,secure:n.secure,httpOnly:n.httpOnly,sameSite:"no_restriction",storeId:n.storeId,url:"https://www.capitalone.com"};return browser.cookies.set(t),void e.resolve(!0)}e.resolve(!1)}),e.promise}browser.browserAction.onClicked.addListener(function(e){browser.tabs.query({active:!0,currentWindow:!0},function(t){if("Firefox"===k.name&&"true"!==d.default.getItem("ext_activated")){const e=browser.runtime.getURL("consent/index.html");n=e,browser.tabs.query({url:n,currentWindow:!0},function(e){for(const t of e)browser.tabs.remove(t.id)}),N(e)}else{const n=t[0];-1===n.url.indexOf("http")||"NEW TAB"===n.title.toUpperCase()?function(e){browser.tabs.update(e.id,{url:l.congratsURL}),browser.tabs.onUpdated.addListener(function t(n,r){"complete"===r.status&&(browser.tabs.onUpdated.removeListener(t),setTimeout(function(){L(e,!1)},1e3))})}(n):(L(e,!1),browser.tabs.sendMessage(n.id,{action:"stop_listeners"}))}var n})}),A(),browser.runtime.onMessage.addListener(function(e,t,n){if(e&&e.action)switch(e.action){case"toggle_extension":V();break;case"auto_pop_appear":"Firefox"===k.name&&"true"!==d.default.getItem("ext_activated")||browser.tabs.sendMessage(t.tab.id,e);break;case"get_telemetry":case"get_browser":browser.tabs.sendMessage(t.tab.id,e,n);break;case"populate_generate_card_number":!function(e,t){window.tabData[t.tab.id]&&window.tabData[t.tab.id].canPopulate?browser.tabs.sendMessage(t.tab.id,e,function(e){}):browser.tabs.sendMessage(t.tab.id,{action:"inject_attempted",result:!1})}(e,t);break;case"show_card_number":case"copied_card_info":case"hide_card_number":browser.tabs.sendMessage(t.tab.id,e);break;case"injected_result":e.is_success;browser.tabs.sendMessage(t.tab.id,e);break;case"notify_account_locked":browser.tabs.query({},function(t){for(var n=0;n<t.length;++n)browser.tabs.sendMessage(t[n].id,e)});break;case"logout":U({url:a.default.wib_orchestration_main_url+"/logout",method:"GET"},function(e){B(),n(e),clearTimeout(g)});break;case"http_request":U(e,n);break;case"get_session_storage":!function(e,t){var n=e.key;t(f.default.getItem(n))}(e,n);break;case"set_session_storage":!function(e,t){var n=e.key,r=e.value;f.default.setItem(n,r),t(f.default.getItem(n))}(e,n);break;case"clear_session_storage":m=n,f.default.clear(),m("done");break;case"delete_cookies":c.deleteAllCookies(!1);break;case"remove_session_storage":!function(e,t){var n=e.key;f.default.removeItem(n)}(e);break;case"get_local_storage":E(e,n);break;case"set_local_storage":var r=n;"ext_id"==e.key&&(r=function(e){A(),n(e)}),D(e,r);break;case"get_billing_address":!function(e,t){e.url=p+"?accountReferenceId="+e.accountReferenceId,e.method="GET",U(e,t)}(e,n);break;case"get_merchant_path_version_if_valid":!function(e,t){e.url=w+"?merchantId="+e.merchantId,e.method="GET",U(e,e=>{i.parseMerchantPathVersion(e,n)})}(e);break;case"get_merchant_path":!function(e,t){e.url=b+"?merchantId="+e.merchantId+"&pathVersion="+e.pathVersion,e.method="GET",U(e,e=>{i.parsePathFromApiResponse(e,n)})}(e);break;case"does_profile_mapping_allow_banner":const h=d.default.getItem("ext_id");h?function(e,t,n){t.url=_+"?deviceExtensionId="+e+(t.merchantId?"&merchantId="+t.merchantId:"&merchantUrlId="+t.merchantUrlId),t.method="GET",U(t,n)}(h,e,t=>{i.doesProfileMappingPass(t,e.hostname,n)}):n(!1);break;case"remove_local_storage":q(e,n);break;case"openTnC":browser.tabs.create({url:"https://www.capitalone.com"});break;case"showCongratulationPage":!function(e,t,n){browser.tabs.update(t.tab.id,{url:l.congratsURL})}(0,t);break;case"get_site_url":browser.tabs.get(t.tab.id,function(e){e&&n(e.url)});break;case"redirect_to_url":browser.tabs.get(t.tab.id,function(n){var r=e.redirect_url;n&&r&&browser.tabs.update(t.tab.id,{url:r}),N(r)});break;case"get_purchase_total":browser.tabs.getSelected(null,function(e){browser.tabs.sendMessage(e.id,{action:"get_purchase_total"},function(e){})});break;case"done_login":A();break;case"update_extension":D({key:"upgradeRequired",value:"true"},function(e){browser.runtime.reload()});break;case"get_inauth_url":var o=(new Date).getTime();const y="GO_"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(o+16*Math.random())%16|0;return o=Math.floor(o/16),("x"==e?t:3&t|8).toString(16)});f.default.setItem("INAUTH_TID",y);var u=a.default.zuul_main_url;n(u+"/inauth.html?tid="+y);break;case"ccswap_trigger":case"ccswap_banner_dismissed":browser.tabs.sendMessage(t.tab.id,e);break;case"ccswap_start":i.startFilteringRequests(),browser.tabs.sendMessage(t.tab.id,e);break;case"ccswap_iframe_ready_to_load":i.startFilteringRequests(),n(!0);break;case"ccswap_iframe_loaded":case"ccswap_done":case"ccswap_error":i.stopFilteringRequests();break;case"check_ccswap_short_circuit_flags_pass":n(i.doShortCircuitFlagsPass(e.host));break;case"andromeda_verify_identity":case"andromeda_verify_default_card":case"andromeda_begin_ftux":browser.tabs.sendMessage(t.tab.id,e);break;case"wipe":case"ml_fingerprint":case"get_feature_flag":break;case"setup_page":!function(e,t,n){const r=a.default.wib_marketing_url+"/setup/";browser.tabs.update(t.tab.id,{url:r})}(0,t);break;case"launch_sic":null!=v&&(browser.windows.remove(v),v=null),B(),f.default.removeItem("access-token"),browser.windows.create({url:a.default.sign_in_url,type:"popup",width:1024,height:768},function(e){v=e.id,browser.webRequest.onBeforeRequest.addListener(S,{urls:["*://*.capitalone.com/*"]},["blocking","requestBody"]),P=setInterval(()=>{M().then(e=>{e&&(null!=v&&(browser.windows.update(v,{height:0,width:0,top:0,left:0}),setTimeout(()=>{browser.windows.remove(v)},1e3)),T&&clearTimeout(T))}).catch(e=>{})},1e3),T=setTimeout(()=>{null!=v&&browser.windows.remove(v),R()},3e5),browser.windows.onRemoved.addListener(C)});break;case"features_done":O();break;default:const x=s[e.action];x&&x(e,t,n)}var m;return!0}),m.initTrackEvent();let P=null,T=null;function C(e){e===v&&(M().then(e=>{browser.webRequest.onBeforeRequest.removeListener(S),F(e?{action:"session_established"}:{action:"signin_timed_out"})}).catch(e=>{browser.webRequest.onBeforeRequest.removeListener(S),F({action:"signin_timed_out"})}),browser.windows.onRemoved.removeListener(C),R())}function R(){T&&clearTimeout(T),P&&clearTimeout(P)}function E(e,t){var n=e.key;t(d.default.getItem(n))}function D(e,t){var n=e.key,r=e.value;d.default.setItem(n,r),t(d.default.getItem(n))}function q(e,t){var n=e.key;d.default.removeItem(n),t()}function U(e,t){var n=new XMLHttpRequest,r="",s=e.url;e.params&&(r=Object.keys(e.params).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.params[t])}).join("&")),r&&(s+="?"+r);var i=o.getBrowserMetaData();n.open(e.method,s),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.setRequestHeader("x-apptype",i.browserName),n.setRequestHeader("x-appversion",y),n.setRequestHeader("x-devicemodel",i.OSName),n.setRequestHeader("x-osversion",i.OSVersion),n.setRequestHeader("x-browserversion",i.fullVersion),n.setRequestHeader("x-platform","walletinbrowser"),n.setRequestHeader("cache-control","no-cache, no-store, must-revalidate"),n.setRequestHeader("pragma","no-cache"),n.setRequestHeader("expires","0"),null!==I&&s===h&&n.setRequestHeader("deviceID",I),""!==a.default.test_header_key&&n.setRequestHeader(a.default.test_header_key,a.default.test_header_value),e.headers&&Object.keys(e.headers).map(function(t){n.setRequestHeader(t,e.headers[t])}),f.default.getItem("client-correlation-id")||f.default.setItem("client-correlation-id",function(){var e=d.default.getItem("ext_id");if(!e)return"";e=e.substr(0,30);var t=""+(new Date).getTime();return"EXT-"+o.getBrowserMetaData().browserName.toUpperCase().substr(0,3)+"-"+e+"-"+t}());for(var c=["client-correlation-id","client-ip","profileReferenceID","access-token","x-device-fingerprint"],u=0;u<c.length;u++){var l=f.default.getItem(c[u]);l&&(n.setRequestHeader(c[u],l),2===u&&n.setRequestHeader("profile_ref_id",l))}n.onload=function(){if(this.status>=200&&this.status<300){try{var e=function(e){const t={};try{e.split("\n").forEach(function(e){const n=e.split(":");n[1]=n[1].replace(/\s+/g,""),"client-ip"===n[0]&&f.default.setItem("client-ip",n[1]),"client-correlation-id"===n[0]&&f.default.setItem("client-correlation-id",n[1]),t[n[0].toLowerCase()]=n[1]})}catch(e){}return t}(this.getAllResponseHeaders());e["access-token"]&&f.default.setItem("access-token",e["access-token"]),t({response:{data:JSON.parse(n.response),status:this.status,headers:e},status:this.status,headers:e})}catch(e){t({error:{error:n.response,status:this.status,statusText:n.statusText}})}s.endsWith("/logout")||(clearTimeout(g),g=setTimeout(function(){j()},12e5))}else this.status>=300&&this.status<400?j():t({error:{error:n.response,status:this.status,statusText:n.statusText}})},n.onerror=function(e){t({error:{error:n.response,status:this.status,statusText:n.statusText}})},e.data?n.send(JSON.stringify(e.data)):n.send()}function j(){f.default.removeItem("userstate"),F({action:"timeout"})}function F(e){browser.tabs.query({},function(t){t.forEach(function(t){browser.tabs.sendMessage(t.id,e)})})}function B(){c.deleteAllCookies(!0)}function N(e){browser.tabs.query({currentWindow:!0,active:!0},function(t){var n=t[0].index;browser.tabs.create({index:n+1,url:e})})}function V(){"Firefox"===k.name&&"true"!==d.default.getItem("ext_activated")||browser.tabs.query({currentWindow:!0,active:!0},function(e){L(e[0],!0)})}function L(e,t){e.url,browser.tabs.sendMessage(e.id,{action:"toggleExtension",wibExit:t},function(e){})}browser.runtime.onMessageExternal.addListener(function(e){switch(e.action){case"toggle_extension":V()}}),browser.runtime.onInstalled.addListener(function(e){!function(e){var t=browser.runtime.getManifest();"install"===e.reason&&void 0===e.previousVersion?(m.trackEvent("Extension_Installed"),browser.tabs.query({active:!0,currentWindow:!0},function(e){var n=e[0];-1==navigator.userAgent.indexOf("Chrome")||n.url.match(/(chrome):\/\//gi)||function(e){for(var n=0;n<t.content_scripts.length;n++)for(var r=t.content_scripts[n].js,o=0;o<r.length;o++)browser.tabs.executeScript(e.id,{file:r[o]})}(n),setTimeout(function(){"Firefox"!==k.name?n.url.includes("chrome.google.com/webstore")||n.url.includes("addons.mozilla.org")||n.url.includes("microsoft.com/en-us/p/eno-from-capital-one")?N(a.default.wib_marketing_url+"/setup/"):L(n,!1):N(browser.runtime.getURL("consent/index.html"))},500)})):"update"===e.reason&&E({key:"upgradeRequired"},function(e){"true"===e&&(browser.tabs.query({active:!0,currentWindow:!0},function(e){var t=e[0];browser.tabs.update(t.id,{url:t.url}),browser.tabs.onUpdated.addListener(function e(n,r){"complete"===r.status&&(browser.tabs.onUpdated.removeListener(e),L(t,!1))})}),q({key:"upgradeRequired"},()=>{}))}),e.previousVersion&&e.previousVersion<"2.0.12"&&(d.default.removeItem("lastUsername"),d.default.removeItem("lastUsernameBlob"))}(e)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0);r.__exportStar(n(23),t),r.__exportStar(n(26),t),r.__exportStar(n(27),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1);const r=n(8),o=n(14);t.doneSetup=function(){browser.tabs.query({active:!0,lastFocusedWindow:!0},function(e){e[0].url.search("/applications/eno/virtualnumbers/setup/")>0&&(r.trackEvent("Congrats_Page"),browser.tabs.update(e[0].id,{url:o.congratsURL}))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=r.__importDefault(n(9)),a=r.__importDefault(n(25));var s;s=window,document,s.sp||(s.GlobalSnowplowNamespace=s.GlobalSnowplowNamespace||[],s.GlobalSnowplowNamespace.push("sp"),s.sp=function(){(s.sp.q=s.sp.q||[]).push(arguments)},s.sp.q=s.sp.q||[]),t.sp=window.sp;const i=[function({properties:e}){return{schema:"iglu:com.capitalone.snowplow/browser_extension/jsonschema/1-0-1",data:{appVersion:a.default,pageUrl:e.url||"",pageReferrer:e.referrer||""}}},function({tracker:e}){return{schema:"iglu:com.capitalone.snowplow/customer/jsonschema/1-0-6",data:{sessionId:e.getDomainUserInfo()[6]||"",customerReferenceId:e.getDomainUserId()||"",profileReferenceId:o.default.getItem("profileReferenceID")||""}}},function({event:e,properties:t}){if(!t.transaction_id)return null;const n={schema:"iglu:com.capitalone.snowplow/semantic_engine/jsonschema/1-0-0",data:{name:e||"",transactionId:t.transaction_id}};return t.rules?n.data.rule=t.rules:t.cur_rule&&(n.data.rule=t.cur_rule),t.cur_rule_field&&(n.data.ruleField=t.cur_rule_field),n},function({properties:e}){return e.modelName&&e.modelScore?{schema:"iglu:com.capitalone.snowplow/model_score/jsonschema/1-0-0",data:{modelName:e.modelName,modelScore:e.modelScore}}:null}];t.createSnowplowContext=function(e,n){const r=[];return t.sp(function(){const t=this.EnoTracker;i.forEach(o=>{const a=o({event:e,properties:n,tracker:t});a&&r.push(a)})}),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(1);let r="None";try{r=browser.runtime.getManifest().version}catch(e){}t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0).__importDefault(n(12)),o=n(8);function a(e){const{event:t="",extra:n={}}="object"==typeof e?e:{event:e};return{event:t,properties:n}}t.potomac_event=function(e){const{event:t,properties:n}=a(e.event);r.default.trackEvent(t,n)},t.track_event=function(e,t,n){const{event:r,properties:s}=a(e.event);o.trackEvent(r,s),n&&n(!0)}},function(e,t,n){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.auto_popup=function(e){r=e.context||null},t.get_autopop_context=function(e,t,n){n(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(0),o=r.__importDefault(n(15)),a=r.__importDefault(n(9)),s=n(5);function i(){return{urls:t.userAgentData.urlsToMonitor}}t.userAgentData={shouldFilterFrameOptions:!1,timeFilterStarted:new Date,urlsToMonitor:[],redirectsToCancel:[],MOBILE_CHROME_USER_AGENT:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/68.0.3440.106 Mobile Safari/537.36"},t.doShortCircuitFlagsPass=function(e){const t="c1eib_"+e+"_last_shown",n="c1eib_"+e+"_disabled",r="c1eib_"+e+"_profileMapping_hideBanner",s=a.default.getItem(t),i=s&&Number(s)+432e5>Date.now(),c=o.default.getItem(n),u=o.default.getItem(r);return!i&&!c&&!u},t.doesProfileMappingPass=function(e,t,n){const r=e&&e.response&&e.response.data;if((!e||!e.error)&&r)if(r.hasCCSwapEnabled)1===r.numberOfProfilesOnExtension&&n(!0);else{const e="c1eib_"+t+"_profileMapping_hideBanner";o.default.setItem(e,"true")}},t.parseMerchantPathVersion=function(e,t){t(e.response.data.enabled?e.response.data.pathVersion:-1)},t.parsePathFromApiResponse=function(e,t){t(e.response.data.path)},t.handleWebRequestBeforeSendHeaders=function(e){if(e.frameId>0&&function(e){for(let t in s.merchants)if(s.merchants[t]&&e.indexOf(s.merchants[t].pathToModifyUserAgent)>=0)return!0;return!1}(e.url)){let n=e.requestHeaders.find(e=>"User-Agent"===e.name);n&&(n.value=t.userAgentData.MOBILE_CHROME_USER_AGENT)}return{requestHeaders:e.requestHeaders}},t.handleWebRequestOnHeadersReceived=function(e){if(t.userAgentData.shouldFilterFrameOptions){if(302===e.statusCode)for(let n of t.userAgentData.redirectsToCancel)if(e.url.indexOf(n)>-1)return{cancel:!0};return{responseHeaders:e.responseHeaders.filter(function(e){return"x-frame-options"!==e.name.toLowerCase()&&"content-security-policy"!==e.name.toLowerCase()})}}return{responseHeaders:e.responseHeaders}},t.startFilteringRequests=function(){t.userAgentData.shouldFilterFrameOptions=!0,t.userAgentData.timeFilterStarted=new Date,setTimeout(()=>{t.userAgentData.timeFilterStarted.valueOf()+3e5<=(new Date).valueOf()&&(t.userAgentData.shouldFilterFrameOptions=!1)},3e5)},t.stopFilteringRequests=function(){t.userAgentData.shouldFilterFrameOptions=!1},t.checkUserAgent=function(e){return!!["Chrome","Firefox"].some(t=>e.includes(t))&&!["Edge","SeaMonkey"].some(t=>e.includes(t))},t.populateUserAgentData=function(){for(const e in s.merchants){if(!s.merchants[e])continue;const n=s.merchants[e];t.userAgentData.urlsToMonitor.push(n.urlScheme),n.redirectToCancel&&t.userAgentData.redirectsToCancel.push(n.redirectToCancel)}return i()},t.getWebRequestFilter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Deferred=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}}]);